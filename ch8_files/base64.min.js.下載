// base64相关方法
var Base64 = {
	_keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
	encode: function(e) {
		var i, n, r, a, o, s, c, t = "",
			u = 0;
		for (e = Base64._utf8_encode(e); u < e.length;) i = e.charCodeAt(u++), n = e.charCodeAt(u++), r = e.charCodeAt(u++),
			a = i >> 2, o = (3 & i) << 4 | n >> 4, s = (15 & n) << 2 | r >> 6, c = 63 & r, isNaN(n) ? s = c = 64 : isNaN(r) &&
			(c = 64), t = t + this._keyStr.charAt(a) + this._keyStr.charAt(o) + this._keyStr.charAt(s) + this._keyStr.charAt(c);
		return t
	},
	decode: function(e) {
		var i, n, r, a, o, s, c, t = "",
			u = 0;
		for (e = e.replace(/[^A-Za-z0-9\+\/\=]/g, ""); u < e.length;) a = this._keyStr.indexOf(e.charAt(u++)), o = this._keyStr
			.indexOf(e.charAt(u++)), s = this._keyStr.indexOf(e.charAt(u++)), c = this._keyStr.indexOf(e.charAt(u++)), i = a <<
			2 | o >> 4, n = (15 & o) << 4 | s >> 2, r = (3 & s) << 6 | c, t += String.fromCharCode(i), 64 != s && (t += String
				.fromCharCode(n)), 64 != c && (t += String.fromCharCode(r));
		return t = Base64._utf8_decode(t)
	},
	_utf8_encode: function(e) {
		e = e.replace(/\r\n/g, "\n");
		for (var t = "", i = 0; i < e.length; i++) {
			var n = e.charCodeAt(i);
			128 > n ? t += String.fromCharCode(n) : n > 127 && 2048 > n ? (t += String.fromCharCode(n >> 6 | 192), t += String
				.fromCharCode(63 & n | 128)) : (t += String.fromCharCode(n >> 12 | 224), t += String.fromCharCode(n >> 6 & 63 |
				128), t += String.fromCharCode(63 & n | 128))
		}
		return t
	},
	_utf8_decode: function(e) {
		for (var t = "", i = 0, n = c1 = c2 = 0; i < e.length;) n = e.charCodeAt(i), 128 > n ? (t += String.fromCharCode(n),
				i++) : n > 191 && 224 > n ? (c2 = e.charCodeAt(i + 1), t += String.fromCharCode((31 & n) << 6 | 63 & c2), i += 2) :
			(c2 = e.charCodeAt(i + 1), c3 = e.charCodeAt(i + 2), t += String.fromCharCode((15 & n) << 12 | (63 & c2) << 6 | 63 &
				c3), i += 3);
		return t
	}
};
