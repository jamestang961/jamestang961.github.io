// 缓存数据读写删相关方法

function getStorage(k) {
	try {
		var info = {};
		return (info = localStorage ? localStorage.getItem(k) : $.cookie(k)) && (info = JSON.parse(Base64.decode(info))),
			info
	} catch(e) {
		return null
	}
}

function setStorage(k, v, success, fail) {
	try {
		var oldv = getStorage(k);
		oldv = $.extend(oldv, v);
		var base64info = Base64.encode(JSON.stringify(oldv));
		localStorage ? localStorage.setItem(k, base64info) : $.cookie(k, base64info), runScript(success, oldv)
	} catch(e) {
		runScript(fail, oldv)
	}
}

function removeStorage(k) {
	try {
		localStorage ? localStorage.removeItem(k) : $.removeCookie(k)
	} catch(e) {
		logme(k)
	}
}
